# 系統架構文件（System Architecture）

## 1. 文件目的
本文件描述「鋆旭 AI-Dev 軟體系統媒合平台」的系統架構，對應 `docs/requirement/customer_requirement.md` 的需求與流程，並以網站為主要使用介面。

## 2. 架構目標
- 支援需求對齊、媒合評估、協作開發、品質交付的端到端流程。
- 確保文件可追溯、進度可視化、交付品質可驗證。
- 可彈性整合 AI 工具以提升規格產出、審查與測試效率。

## 3. 系統邊界與假設
- 平台以 Web 為主要入口，提供對外客戶與合作夥伴使用。
- 專案與文件管理為核心能力，實作細節由合作團隊負責。
- AI 能力透過外部模型或內部服務提供。

## 4. 使用者角色
- 客戶（發案方）：需求提交、文件檢視、里程碑追蹤與驗收。
- 合作開發團隊：需求分析、設計與開發協作、品質檢核。
- 管理者：媒合管理、流程監控、品質控管與權限管理。

## 5. 架構總覽（High-Level）
```
[Browser]
  |-- Web Frontend (UI / Portal)
  |-- Auth / Session
  |-- API Client
        |
        v
[Backend API]
  |-- Requirement Service
  |-- Matching Service
  |-- Project & Document Service
  |-- Collaboration Service
  |-- Quality & Review Service
  |-- Notification Service
  |-- Admin Service
        |
        +--> [AI Orchestrator] --> [AI Model Provider]
        |
        +--> [Relational DB]
        +--> [Object Storage]
        +--> [Audit Log Store]
        +--> [Queue / Jobs]
```

## 6. 分層設計
### 6.1 表現層（Web Frontend）
- 需求提交與訪談摘要檢視。
- 需求文件、系統開發文件、軟體設計文件與測試文件的展示。
- 專案里程碑、驗收與品質報告可視化。
- 角色導向的導覽與權限控制。

### 6.2 應用層（Backend API）
- 流程管理：對應需求對齊、媒合評估、協作開發、品質交付各節點。
- 文件產出與版本控管：支援可追溯的文件管理。
- AI 協作調度：統一處理 AI 任務與結果回寫。

### 6.3 資料層（Data Stores）
- Relational DB：需求、專案、里程碑、使用者、權限、狀態等核心資料。
- Object Storage：文件、附件、報告、輸出檔案。
- Audit Log Store：保留文件版本、決策與修改歷程。

### 6.4 整合層（AI / 外部服務）
- AI Orchestrator：統一管理 AI 任務、提示模板、結果審核與追蹤。
- 通知服務：Email / 即時訊息（可擴充）。

## 7. 核心子系統與功能模組
### 7.1 需求管理子系統
- 需求訪談與摘要。
- 需求文件產出與版本控管。
- 需求確認與簽核流程。

### 7.2 媒合與估工子系統
- 技術、預算、時程的三軸匹配評估。
- 合作團隊推薦與審核。

### 7.3 專案與文件管理子系統
- 系統開發文件與軟體設計文件管理。
- 任務拆分與協作追蹤。

### 7.4 品質與測試子系統
- 測試案例生成與測試文件產出。
- AI Code Review 與品質檢核報告。

### 7.5 交付與驗收子系統
- 交付文件整理與版本記錄。
- 驗收流程與回饋紀錄。

### 7.6 管理與稽核子系統
- 使用者與權限管理（RBAC）。
- 流程監控與品質指標追蹤。
- 稽核與異動記錄。

## 8. 資料流與流程對應
### 8.1 需求對齊
- 客戶提交需求 -> 需求文件產出 -> 確認與簽核。

### 8.2 媒合評估
- 需求文件 -> 媒合服務 -> 估工與計畫 -> 專案立案。

### 8.3 協作開發
- 系統開發文件 -> 軟體設計文件 -> 任務拆解與追蹤。

### 8.4 品質交付
- 測試文件 -> AI 審查與測試報告 -> 交付文件 -> 驗收。

## 9. AI 協作架構
- 任務類型：需求摘要、功能拆解、規格草稿、程式碼審查、測試案例生成。
- 处理方式：同步（小型任務）與非同步（大量文件或測試生成）。
- 追蹤機制：AI 產出結果需保存版本並允許人工覆核。

## 10. 安全性與權限
- 驗證與授權：帳號登入、RBAC 權限模型。
- 資料隔離：專案資料依角色與專案授權控管。
- 稽核紀錄：文件與決策修改均記錄於 Audit Log。

## 11. 非功能性需求對應
- 可追溯：文件版本、簽核、決策與 AI 產出結果可追蹤。
- 可視化：里程碑、驗收條件、品質報告以視覺化呈現。
- 品質控管：AI + 人工雙重檢核流程。
- 可擴充：模組化服務可擴充 AI 能力與媒合規則。

## 12. 佈署與運維概念
- Web Frontend：靜態資源部署於 CDN 或 Web 伺服器。
- Backend API：可水平擴充的應用服務。
- Database / Storage：高可用儲存架構與備份策略。
- Logging / Monitoring：服務記錄、效能監控與告警。

## 13. 風險與限制
- AI 產出需人工覆核，避免錯誤直接導入流程。
- 需求資訊不完整可能影響媒合與估工精準度。
- 大型專案需考量排程與負載的擴充能力。

## 14. 未來擴充方向
- 更完整的合作夥伴評分與匹配規則。
- 更細緻的品質指標與自動化驗收。
- 多語系與跨區服務支援。

## Status
客戶提出修改建議，已修改完成